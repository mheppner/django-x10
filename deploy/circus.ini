[circus]
pidfile = data/run/circusd.pid
logoutput = data/logs/circusd.log


[watcher:channels]
working_dir = src
priority = 1
cmd = python
args = manage.py runworker
numprocesses = 4
copy_env = True
stdout_stream.class = FileStream
stdout_stream.filename = data/logs/channels.stdout.log
stdout_stream.max_bytes = 1048576
stderr_stream.class = FileStream
stderr_stream.filename = data/logs/channels.stderr.log
stderr_stream.max_bytes = 104857


[watcher:daphne]
priority = 2
working_dir = src
cmd = daphne
args =
    --port=4700
    x10.asgi:channel_layer
numprocesses = 1
singleton = True
copy_env = True
stdout_stream.class = FileStream
stdout_stream.filename = data/logs/daphne.stdout.log
stdout_stream.max_bytes = 1048576
stderr_stream.class = FileStream
stderr_stream.filename = data/logs/daphne.stderr.log
stderr_stream.max_bytes = 104857


[watcher:celeryworker]
priority = 3
working_dir = src
cmd = celery worker
args =
    --app=x10
    --loglevel=INFO
    --pidfile=../data/run/celeryworker.pid
stdout_stream.class = FileStream
stdout_stream.filename = data/logs/celeryworker.stdout.log
stdout_stream.max_bytes = 1048576
stderr_stream.class = FileStream
stderr_stream.filename = data/logs/celeryworker.stderr.log
stderr_stream.max_bytes = 104857

[env:celeryworker]
PATH=$PATH


[watcher:celerybeat]
priority = 4
working_dir = src
cmd = celery beat
args =
    --app=x10
    --loglevel=INFO
    --schedule=../data/run/celerybeat.db
    --pidfile=../data/run/celerybeat.pid
stdout_stream.class = FileStream
stdout_stream.filename = data/logs/celerybeat.stdout.log
stdout_stream.max_bytes = 1048576
stderr_stream.class = FileStream
stderr_stream.filename = data/logs/celerybeat.stderr.log
stderr_stream.max_bytes = 104857

[env:celerybeat]
PATH=$PATH
